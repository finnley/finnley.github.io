+++
title = 'MongoDB投票机'
date = 2024-05-22T07:40:52+08:00
draft = true
+++

## 什么是投票机

一种特殊且很常用的新的类型的节点。

上面的例子中除了主节点，其他的节点都称为副节点。副节点的作用就是将数据从主节点同步到副节点上来。

可能有些时候我们并不需要那么多的数据备份，比如有些场景中会认为只要两个数据的备份就够了。

作用：

每个复制集中都是通过选举产生主节点，想要胜任主节点，就必须要获得赞成票数超过节点半数，如果只要两份数据备份而使用两个节点来搭建复制集，就可能最后各节点得到的票数相同，或者票数没有超过节点数半数的情况。

因为复制集中节点数是奇数，投票结果使用会有个明确的结果，不是超过半数就是少于半数（类似联合国）这种结果利于判断，如果节点数是双数，投票结果就可能刚好为半数，这种情况就比较尴尬。

所以为了很好的完成选举，我们更倾向于将节点数设置为奇数。


如果我们不想要太多的数据备份，但是我们想要有足够的可以投票的节点，这时候就可以使用称为投票机的节点，投票机节点本身也是副节点，
